<!DOCTYPE html>

<html>
    <head>

        <link rel="stylesheet" href="login.css"></link>
  
    </head>

    <body>

        <div class="card-login">
            <div class="container-form">

                <form>
                    <div class="container-input">
                        <label for="username">Username</label>
                        <input type="text" id="username" ></input>
                        <label for="password">Password</label>
                        <input type="password" id="password" ></input>
                    </div>
                    <div class="container-button">
                        <input type="submit" value="Submit" onclick=send() ></input>
                    </div>
                    </div>
                </form>


                <div class="container-links">
                    <div class="container-register">
                        <a>Registrazione</a>
                    </div>
        
                    <div class="container-smarr">
                        <a>Password smarrita?</a>
                    </div>
                </div>
            </div>




        </div>

    </body>



    <script>
        function send(){
            username = document.getElementById("username").value
            password = document.getElementById("password").value


            const data = { 'username': username, 'password':password };

            fetch('http://127.0.0.1:5000/login', {
            method: 'POST', 
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
            })
            .then(response => {
                if (response.ok){
                    window.location.replace('index.html')
                }
                else throw 'error'
                
            })
            .catch(error=>{alert(error)})

        }
    </script>


</html>